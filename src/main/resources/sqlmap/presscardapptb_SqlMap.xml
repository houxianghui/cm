<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="presscardapptb" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.yly.presscard.Presscardapptb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    <result column="FormNo" property="formNo" jdbcType="VARCHAR" />
    <result column="CardType" property="cardType" jdbcType="VARCHAR" />
    <result column="ManufacId" property="manufacId" jdbcType="VARCHAR" />
    <result column="PurchaseAmt" property="purchaseAmt" jdbcType="INTEGER" />
    <result column="CommRate" property="commRate" jdbcType="VARCHAR" />
    <result column="CurrDate" property="currDate" jdbcType="VARCHAR" />
    <result column="OperId" property="operId" jdbcType="VARCHAR" />
    <result column="Remarks" property="remarks" jdbcType="VARCHAR" />
  </resultMap>
  
  	<resultMap id="presscardmap" class="com.yly.presscard.Presscardapptb">
		<result property="cardNo" column="PressCardNo" />
		<result property="formNo" column="FormNo" />
		<result property="classId" column="ClassId" />
		<result property="manufacId" column="ManufacId" />
		<result property="commRate" column="CommRate"/>
		<result property="currDate" column="CurrDate"/>
		<result property="num" column="Num"/>
	</resultMap>

  <resultMap id="ereaderMap" class="com.yly.presscard.Presscardapptb" >
    <result column="FormNo" property="formNo" jdbcType="VARCHAR" />
    <result column="PurchaseType" property="purchaseType" jdbcType="VARCHAR" />
    <result column="ManufacId" property="manufacId" jdbcType="VARCHAR" />
    <result column="PurchaseAmt" property="purchaseAmt" jdbcType="INTEGER" />
    <result column="ApplyAttr" property="applyAttr" jdbcType="VARCHAR" />
    <result column="HardVersion" property="hardVersion" jdbcType="VARCHAR" />    
    <result column="CurrDate" property="currDate" jdbcType="VARCHAR" />
    <result column="OperId" property="operId" jdbcType="VARCHAR" />
    <result column="Remarks" property="remarks" jdbcType="VARCHAR" />
  </resultMap>	
  
  <sql id="ibatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.yly.presscard.PresscardapptbExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    select FormNo, CardType, ManufacId, PurchaseAmt, CommRate, CurrDate, OperId, Remarks
    from presscardapptb
    <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
        order by FormNo
  </select>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.yly.presscard.PresscardapptbExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    delete from presscardapptb
    <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.yly.presscard.Presscardapptb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    insert into presscardapptb (FormNo, CardType, ManufacId, PurchaseAmt, CommRate, CurrDate,
      OperId, Remarks)
    values (#formNo:VARCHAR#, #cardType:VARCHAR#, #manufacId:VARCHAR#, #purchaseAmt:INTEGER#,
      #commRate:VARCHAR#, #currDate:VARCHAR#, #operId:VARCHAR#, #remarks:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.yly.presscard.Presscardapptb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    insert into presscardapptb
    <dynamic prepend="(" >
      <isNotNull prepend="," property="formNo" >
        FormNo
      </isNotNull>
      <isNotNull prepend="," property="cardType" >
        CardType
      </isNotNull>
      <isNotNull prepend="," property="manufacId" >
        ManufacId
      </isNotNull>
      <isNotNull prepend="," property="purchaseAmt" >
        PurchaseAmt
      </isNotNull>
      <isNotNull prepend="," property="commRate" >
        CommRate
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        CurrDate
      </isNotNull>
      <isNotNull prepend="," property="operId" >
        OperId
      </isNotNull>
      <isNotNull prepend="," property="remarks" >
        Remarks
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="formNo" >
        #formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardType" >
        #cardType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="manufacId" >
        #manufacId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="purchaseAmt" >
        #purchaseAmt:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="commRate" >
        #commRate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        #currDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="operId" >
        #operId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="remarks" >
        #remarks:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.yly.presscard.PresscardapptbExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    select count(*) from presscardapptb
    <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    update presscardapptb
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.formNo" >
        FormNo = #record.formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.cardType" >
        CardType = #record.cardType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.manufacId" >
        ManufacId = #record.manufacId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.purchaseAmt" >
        PurchaseAmt = #record.purchaseAmt:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.commRate" >
        CommRate = #record.commRate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.currDate" >
        CurrDate = #record.currDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.operId" >
        OperId = #record.operId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.remarks" >
        Remarks = #record.remarks:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    update presscardapptb
    set FormNo = #record.formNo:VARCHAR#,
      CardType = #record.cardType:VARCHAR#,
      ManufacId = #record.manufacId:VARCHAR#,
      PurchaseAmt = #record.purchaseAmt:INTEGER#,
      CommRate = #record.commRate:VARCHAR#,
      CurrDate = #record.currDate:VARCHAR#,
      OperId = #record.operId:VARCHAR#,
      Remarks = #record.remarks:VARCHAR# 
    <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
    <insert id="ibatorgenerated_insertcard" parameterClass="com.yly.presscard.Presscardapptb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    insert into PressCardTb
    <dynamic prepend="(" >
      <isNotNull prepend="," property="formNo" >
        FormNo
      </isNotNull>
      <isNotNull prepend="," property="cardNo" >
        PressCardNo
      </isNotNull>
      <isNotNull prepend="," property="classId" >
        ClassId
     </isNotNull>
     <isNotNull prepend="," property="manufacId" >
        ManufacId
     </isNotNull>
      <isNotNull prepend="," property="commRate" >
        CommRate
     </isNotNull>        
     <isNotNull prepend="," property="currDate" >
        CurrDate
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="formNo" >
        #formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardNo" >
        #cardNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="classId" >
        #classId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="manufacId" >
        #manufacId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="commRate" >
        #commRate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        #currDate:VARCHAR#
      </isNotNull>      
      )
    </dynamic>
  </insert>
   <select id="queryCardList" resultMap="presscardmap" parameterClass="com.yly.presscard.Presscardapptb" >
    select PressCardNo,FormNo,ClassId,ManufacId,CommRate,CurrDate
    from PressCardTb 
    where 1=1 
	<isNotEmpty prepend="and" property="formNo">
		FormNo = #formNo# 
	</isNotEmpty>	
	<isNotEmpty prepend="and" property="classId">
		ClassId = #classId#
	</isNotEmpty>	
    order by PressCardNo
  </select>
    <insert id="ibatorgenerated_insertEreader" parameterClass="com.yly.presscard.Presscardapptb" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    insert into EreaderCardAppTb (FormNo, PurchaseType, ManufacId, PurchaseAmt, ApplyAttr,HardVersion,CurrDate,OperId, Remarks)
    values (#formNo:VARCHAR#, #purchaseType:VARCHAR#, #manufacId:VARCHAR#, #purchaseAmt:INTEGER#, #applyAttr:VARCHAR#, #hardVersion:VARCHAR#, #currDate:VARCHAR#, #operId:VARCHAR#, #remarks:VARCHAR#)
  </insert>
    <select id="ibatorgenerated_selectEreaderByExample" resultMap="ereaderMap" parameterClass="com.yly.presscard.PresscardapptbExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 09 20:23:53 CST 2016.
    -->
    select FormNo, PurchaseType, ManufacId, PurchaseAmt, ApplyAttr,HardVersion, CurrDate, OperId, Remarks
    from EreaderCardAppTb
    <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
     order by FormNo
  </select>

   <select id="getCardListBySql" resultMap="presscardmap" parameterClass="com.yly.presscard.PresscardapptbExample" >
   	select FormNo,PressCardNo, ClassId ,ManufacId,CommRate,CurrDate
   	from PressCardTb 
   	 <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
   </isParameterPresent>   	
    order by PressCardNo
  </select>
  
   <select id="getReport" resultMap="presscardmap" parameterClass="com.yly.presscard.PresscardapptbExample" >
     select COUNT(PressCardNo) AS Num,FormNo,ClassId,ManufacId,CommRate,"" as PressCardNo,"" as CurrDate
    from PressCardTb  
	 <isParameterPresent >
      <include refid="presscardapptb.ibatorgenerated_Example_Where_Clause" />
   </isParameterPresent>   	
     group by ClassId,ManufacId,CommRate
  </select>  
</sqlMap>