<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="issuetaskctrl" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.yly.issue.Issuetaskctrl" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 29 14:30:23 CST 2016.
    -->
    <result column="TaskCtrlNo" jdbcType="VARCHAR" property="taskCtrlNo" />
    <result column="AppNo" jdbcType="VARCHAR" property="appNo" />
    <result column="TaskNo" jdbcType="VARCHAR" property="taskNo" />
    <result column="UnitId" jdbcType="DECIMAL" property="unitId" />
    <result column="SamIdBegin" jdbcType="VARCHAR" property="samIdBegin" />
    <result column="SamIdEnd" jdbcType="VARCHAR" property="samIdEnd" />
    <result column="IssueAmt" jdbcType="DECIMAL" property="issueAmt" />
    <result column="IssueDoneAmt" jdbcType="DECIMAL" property="issueDoneAmt" />
    <result column="ConsumeType" jdbcType="DECIMAL" property="consumeType" />
    <result column="PaymentType" jdbcType="DECIMAL" property="paymentType" />
    <result column="UnitPrice" jdbcType="DECIMAL" property="unitPrice" />
    <result column="TaskState" jdbcType="DECIMAL" property="taskState" />
   
  </resultMap>
  <sql id="ibatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      <isEqual compareValue="true" property="oredCriteria[].valid">
        (
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" parameterClass="com.yly.issue.IssuetaskctrlExample" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    select TaskCtrlNo, AppNo, TaskNo, UnitId, SamIdBegin, SamIdEnd, IssueAmt, IssueDoneAmt,
      ConsumeType, PaymentType,  TaskState, UnitPrice
    from issuetaskctrl
    <isParameterPresent>
      <include refid="issuetaskctrl.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.yly.issue.Issuetaskctrl" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    select TaskCtrlNo, AppNo, TaskNo, UnitId, SamIdBegin, SamIdEnd, IssueAmt, IssueDoneAmt,
      ConsumeType, PaymentType,  TaskState, UnitPrice
    from issuetaskctrl
    where TaskCtrlNo = #taskCtrlNo:VARCHAR#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.yly.issue.Issuetaskctrl">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    delete from issuetaskctrl
    where TaskCtrlNo = #taskCtrlNo:VARCHAR#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.yly.issue.IssuetaskctrlExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    delete from issuetaskctrl
    <include refid="issuetaskctrl.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.yly.issue.Issuetaskctrl">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    insert into issuetaskctrl (TaskCtrlNo, AppNo, TaskNo, UnitId, SamIdBegin, SamIdEnd, IssueAmt,
      IssueDoneAmt, ConsumeType, PaymentType, TaskState,UnitPrice)
    values (#taskCtrlNo:VARCHAR#, #appNo:VARCHAR#, #taskNo:VARCHAR#, #unitId:DECIMAL#,
      #samIdBegin:VARCHAR#, #samIdEnd:VARCHAR#, #issueAmt:DECIMAL#, #issueDoneAmt:DECIMAL#,
      #consumeType:DECIMAL#, #paymentType:DECIMAL#, #taskState:DECIMAL#,#unitPrice:DECIMAL#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.yly.issue.Issuetaskctrl">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    insert into issuetaskctrl
    <dynamic prepend="(">
      <isNotNull prepend="," property="taskCtrlNo">
        TaskCtrlNo
      </isNotNull>
      <isNotNull prepend="," property="appNo">
        AppNo
      </isNotNull>
      <isNotNull prepend="," property="taskNo">
        TaskNo
      </isNotNull>
      <isNotNull prepend="," property="unitId">
        UnitId
      </isNotNull>
      <isNotNull prepend="," property="samIdBegin">
        SamIdBegin
      </isNotNull>
      <isNotNull prepend="," property="samIdEnd">
        SamIdEnd
      </isNotNull>
      <isNotNull prepend="," property="issueAmt">
        IssueAmt
      </isNotNull>
      <isNotNull prepend="," property="issueDoneAmt">
        IssueDoneAmt
      </isNotNull>
      <isNotNull prepend="," property="consumeType">
        ConsumeType
      </isNotNull>
      <isNotNull prepend="," property="paymentType">
        PaymentType
      </isNotNull>
      <isNotNull prepend="," property="unitPrice">
        UnitPrice
      </isNotNull>
      <isNotNull prepend="," property="taskState">
        TaskState
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="taskCtrlNo">
        #taskCtrlNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appNo">
        #appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="taskNo">
        #taskNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="unitId">
        #unitId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="samIdBegin">
        #samIdBegin:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samIdEnd">
        #samIdEnd:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="issueAmt">
        #issueAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="issueDoneAmt">
        #issueDoneAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="consumeType">
        #consumeType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="paymentType">
        #paymentType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitPrice">
        #unitPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="taskState">
        #taskState:DECIMAL#
      </isNotNull>      
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.yly.issue.IssuetaskctrlExample" resultClass="java.lang.Integer">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    select count(*) from issuetaskctrl
    <include refid="issuetaskctrl.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    update issuetaskctrl
    <dynamic prepend="set">
      <isNotNull prepend="," property="record.taskCtrlNo">
        TaskCtrlNo = #record.taskCtrlNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.appNo">
        AppNo = #record.appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.taskNo">
        TaskNo = #record.taskNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.unitId">
        UnitId = #record.unitId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.samIdBegin">
        SamIdBegin = #record.samIdBegin:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.samIdEnd">
        SamIdEnd = #record.samIdEnd:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.issueAmt">
        IssueAmt = #record.issueAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.issueDoneAmt">
        IssueDoneAmt = #record.issueDoneAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.consumeType">
        ConsumeType = #record.consumeType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.paymentType">
        PaymentType = #record.paymentType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.unitPrice">
        UnitPrice = #record.unitPrice:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.taskState">
        TaskState = #record.taskState:DECIMAL#
      </isNotNull>      
    </dynamic>
    <isParameterPresent>
      <include refid="issuetaskctrl.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    update issuetaskctrl
    set TaskCtrlNo = #record.taskCtrlNo:VARCHAR#,
      AppNo = #record.appNo:VARCHAR#,
      TaskNo = #record.taskNo:VARCHAR#,
      UnitId = #record.unitId:DECIMAL#,
      SamIdBegin = #record.samIdBegin:VARCHAR#,
      SamIdEnd = #record.samIdEnd:VARCHAR#,
      IssueAmt = #record.issueAmt:DECIMAL#,
      IssueDoneAmt = #record.issueDoneAmt:DECIMAL#,
      ConsumeType = #record.consumeType:DECIMAL#,
      PaymentType = #record.paymentType:DECIMAL#,
      TaskState = #record.taskState:DECIMAL#,
      UnitPrice = #record.unitPrice:DECIMAL#
    <isParameterPresent>
      <include refid="issuetaskctrl.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.yly.issue.Issuetaskctrl">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    update issuetaskctrl
    <dynamic prepend="set">
      <isNotNull prepend="," property="appNo">
        AppNo = #appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="taskNo">
        TaskNo = #taskNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="unitId">
        UnitId = #unitId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="samIdBegin">
        SamIdBegin = #samIdBegin:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samIdEnd">
        SamIdEnd = #samIdEnd:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="issueAmt">
        IssueAmt = #issueAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="issueDoneAmt">
        IssueDoneAmt = #issueDoneAmt:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="consumeType">
        ConsumeType = #consumeType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="paymentType">
        PaymentType = #paymentType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="taskState">
        TaskState = #taskState:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="unitPrice">
        UnitPrice = #unitPrice:DECIMAL#
      </isNotNull>
    </dynamic>
    where TaskCtrlNo = #taskCtrlNo:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.yly.issue.Issuetaskctrl">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Apr 28 20:44:03 CST 2016.
    -->
    update issuetaskctrl
    set AppNo = #appNo:VARCHAR#,
      TaskNo = #taskNo:VARCHAR#,
      UnitId = #unitId:DECIMAL#,
      SamIdBegin = #samIdBegin:VARCHAR#,
      SamIdEnd = #samIdEnd:VARCHAR#,
      IssueAmt = #issueAmt:DECIMAL#,
      IssueDoneAmt = #issueDoneAmt:DECIMAL#,
      ConsumeType = #consumeType:DECIMAL#,
      PaymentType = #paymentType:DECIMAL#,
      TaskState = #taskState:DECIMAL#,
      UnitPrice = #unitPrice:DECIMAL#
    where TaskCtrlNo = #taskCtrlNo:VARCHAR#
  </update>
   <select id="getMaxSamNum" parameterClass="string" resultClass="long" >
    select max(SamIdEnd) from(select max(SamIdEnd) as SamIdEnd from IssueTaskCtrl where SamIdEnd like #value# 
    union
    select max(SamId) as SamIdEnd from StoProduct where SamId like #value#) tb1   
  	
  </select>
    <select id="ibatorgenerated_sumByExample" parameterClass="com.yly.issue.IssuetaskctrlExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 29 14:29:07 CST 2016.
    -->
    select sum(IssueAmt) from issuetaskctrl
    <include refid="issuetask.ibatorgenerated_Example_Where_Clause" />
  </select>
</sqlMap>