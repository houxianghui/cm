<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="lsinfo" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    <result column="FlowNo" property="flowNo" jdbcType="VARCHAR" />
    <result column="AppNo" property="appNo" jdbcType="VARCHAR" />
    <result column="FormNo" property="formNo" jdbcType="VARCHAR" />
    <result column="SamId" property="samId" jdbcType="VARCHAR" />
    <result column="SamCSN" property="samCSN" jdbcType="VARCHAR" />
    <result column="OperationType" property="operationType" jdbcType="DECIMAL" />
    <result column="DetectSign" property="detectSign" jdbcType="DECIMAL" />
    <result column="ErrorCode" property="errorCode" jdbcType="DECIMAL" />
    <result column="SamIdOld" property="samIdOld" jdbcType="VARCHAR" />
    <result column="SamCSNOld" property="samCSNOld" jdbcType="VARCHAR" />
    <result column="OperId" property="operId" jdbcType="VARCHAR" />
    <result column="CurrDate" property="currDate" jdbcType="VARCHAR" />
    <result column="ProdId" property="prodId" jdbcType="VARCHAR" />    
  </resultMap>
   <resultMap class="com.yly.stor.Stoappinfo" id="StockBalReportMap">
    <result column="CurrPeriodAmt" jdbcType="DECIMAL" property="currPeriodAmt" />
    <result column="PurchaseAmt" jdbcType="DECIMAL" property="purchaseAmt" />
    <result column="ProdId" jdbcType="VARCHAR" property="prodId" />   
  </resultMap>    
  <sql id="ibatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.yly.ls.LsinfoExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    select FlowNo, AppNo, FormNo, SamId, SamCSN, OperationType, DetectSign, ErrorCode, SamIdOld,
      SamCSNOld, OperId, CurrDate,ProdId
    from lsinfo
    <isParameterPresent >
      <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    select FlowNo, AppNo, FormNo, SamId, SamCSN, OperationType, DetectSign, ErrorCode, SamIdOld,
      SamCSNOld, OperId, CurrDate,ProdId
    from lsinfo
    where FlowNo = #flowNo:VARCHAR#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    delete from lsinfo
    where FlowNo = #flowNo:VARCHAR#
  </delete>
  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.yly.ls.LsinfoExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    delete from lsinfo
    <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    insert into lsinfo (FlowNo, AppNo, FormNo, SamId, SamCSN, OperationType, DetectSign, ErrorCode,
      SamIdOld, SamCSNOld, OperId, CurrDate,ProdId)
    values (#flowNo:VARCHAR#, #appNo:VARCHAR#, #formNo:VARCHAR#, #samId:VARCHAR#, #samCSN:VARCHAR#,
      #operationType:DECIMAL#, #detectSign:DECIMAL#, #errorCode:DECIMAL#, #samIdOld:VARCHAR#,
      #samCSNOld:VARCHAR#, #operId:VARCHAR#, #currDate:VARCHAR#, #prodId:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    insert into lsinfo
    <dynamic prepend="(" >
      <isNotNull prepend="," property="flowNo" >
        FlowNo
      </isNotNull>
      <isNotNull prepend="," property="appNo" >
        AppNo
      </isNotNull>
      <isNotNull prepend="," property="formNo" >
        FormNo
      </isNotNull>
      <isNotNull prepend="," property="samId" >
        SamId
      </isNotNull>
      <isNotNull prepend="," property="samCSN" >
        SamCSN
      </isNotNull>
      <isNotNull prepend="," property="operationType" >
        OperationType
      </isNotNull>
      <isNotNull prepend="," property="detectSign" >
        DetectSign
      </isNotNull>
      <isNotNull prepend="," property="errorCode" >
        ErrorCode
      </isNotNull>
      <isNotNull prepend="," property="samIdOld" >
        SamIdOld
      </isNotNull>
      <isNotNull prepend="," property="samCSNOld" >
        SamCSNOld
      </isNotNull>
      <isNotNull prepend="," property="operId" >
        OperId
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        CurrDate
      </isNotNull>
       <isNotNull prepend="," property="prodId" >
        ProdId
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="flowNo" >
        #flowNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appNo" >
        #appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="formNo" >
        #formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samId" >
        #samId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samCSN" >
        #samCSN:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="operationType" >
        #operationType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="detectSign" >
        #detectSign:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="errorCode" >
        #errorCode:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="samIdOld" >
        #samIdOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samCSNOld" >
        #samCSNOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="operId" >
        #operId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        #currDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="prodId" >
        #prodId:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="ibatorgenerated_countByExample" parameterClass="com.yly.ls.LsinfoExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    select count(*) from lsinfo
    <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
  </select>
  <update id="ibatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    update lsinfo
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.flowNo" >
        FlowNo = #record.flowNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.appNo" >
        AppNo = #record.appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.formNo" >
        FormNo = #record.formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.samId" >
        SamId = #record.samId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.samCSN" >
        SamCSN = #record.samCSN:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.operationType" >
        OperationType = #record.operationType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.detectSign" >
        DetectSign = #record.detectSign:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.errorCode" >
        ErrorCode = #record.errorCode:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="record.samIdOld" >
        SamIdOld = #record.samIdOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.samCSNOld" >
        SamCSNOld = #record.samCSNOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.operId" >
        OperId = #record.operId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.currDate" >
        CurrDate = #record.currDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.prodId" >
        ProdId = #record.prodId:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    update lsinfo
    set FlowNo = #record.flowNo:VARCHAR#,
      AppNo = #record.appNo:VARCHAR#,
      FormNo = #record.formNo:VARCHAR#,
      SamId = #record.samId:VARCHAR#,
      SamCSN = #record.samCSN:VARCHAR#,
      OperationType = #record.operationType:DECIMAL#,
      DetectSign = #record.detectSign:DECIMAL#,
      ErrorCode = #record.errorCode:DECIMAL#,
      SamIdOld = #record.samIdOld:VARCHAR#,
      SamCSNOld = #record.samCSNOld:VARCHAR#,
      OperId = #record.operId:VARCHAR#,
      CurrDate = #record.currDate:VARCHAR#,
      ProdId = #record.prodId:VARCHAR#
    <isParameterPresent >
      <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    update lsinfo
    <dynamic prepend="set" >
      <isNotNull prepend="," property="appNo" >
        AppNo = #appNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="formNo" >
        FormNo = #formNo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samId" >
        SamId = #samId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samCSN" >
        SamCSN = #samCSN:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="operationType" >
        OperationType = #operationType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="detectSign" >
        DetectSign = #detectSign:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="errorCode" >
        ErrorCode = #errorCode:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="samIdOld" >
        SamIdOld = #samIdOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="samCSNOld" >
        SamCSNOld = #samCSNOld:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="operId" >
        OperId = #operId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="currDate" >
        CurrDate = #currDate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="prodId" >
        ProdId = #prodId:VARCHAR#
      </isNotNull>
    </dynamic>
    where FlowNo = #flowNo:VARCHAR#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.yly.ls.Lsinfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed May 25 09:26:11 CST 2016.
    -->
    update lsinfo
    set AppNo = #appNo:VARCHAR#,
      FormNo = #formNo:VARCHAR#,
      SamId = #samId:VARCHAR#,
      SamCSN = #samCSN:VARCHAR#,
      OperationType = #operationType:DECIMAL#,
      DetectSign = #detectSign:DECIMAL#,
      ErrorCode = #errorCode:DECIMAL#,
      SamIdOld = #samIdOld:VARCHAR#,
      SamCSNOld = #samCSNOld:VARCHAR#,
      OperId = #operId:VARCHAR#,
      CurrDate = #currDate:VARCHAR#,
      ProdId = #prodId:VARCHAR#
    where FlowNo = #flowNo:VARCHAR#
  </update>
  <select id="getStockBalReport" resultMap="StockBalReportMap" parameterClass="com.yly.ls.LsinfoExample" >
    select sum(TaskAmt) as PurchaseAmt ,0 as CurrPeriodAmt,ProdId 
    from applyinfotb,lsinfo  
    <isParameterPresent >
      <include refid="lsinfo.ibatorgenerated_Example_Where_Clause" />
      group by ProdId 
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
</sqlMap>